
# Exploras Agent - EPUB Knowledge Explorer 📚

**This repository is entirely generated by AI under human instructions.**

✳️ An experimental AI-powered agent for extracting knowledge from EPUB books with **cost-optimized Q&A** through selective TOC-based content processing. The provided example uses *Cloud-Native Ecosystems*, but the solution is applicable to any EPUB with a Table of Contents (TOC).

## 🎯 Purpose
This is an experimental prototype to validate:
- **Cost Optimization**: Send only selected TOC sections to OpenAI instead of entire books
- **UX Workflow**: Interactive TOC selection → Targeted Q&A
- **Architecture**: FastAPI backend + Angular frontend with Material Design

## 🐳 Quick Start with Docker

### Prerequisites
- Docker Desktop installed
- Git (to clone the repository)

### Option 1: PowerShell Script (Windows)
```powershell
./start.ps1
```

### Option 2: Bash Script (Linux/Mac/WSL)
```bash
chmod +x start.sh
./start.sh
```

### Option 3: Make Commands
```bash
make start        # Build and start all services
make status       # Check container status
make logs         # View logs
make down         # Stop services
make clean        # Complete cleanup
```

### Option 4: Manual Docker Compose
```bash
# Build and start
docker-compose up --build -d

# Check status
docker-compose ps

# View logs
docker-compose logs -f

# Stop
docker-compose down
```

## 🌐 Access the Application

After starting the containers:
- **Frontend**: http://localhost
- **Backend API**: http://localhost:8000
- **API Docs**: http://localhost:8000/docs

## 🏗️ Container Architecture

```
┌─────────────────┐    ┌─────────────────┐
│   Frontend      │    │    Backend      │
│   Angular +     │◄──►│   FastAPI +     │
│   Material +    │    │   ebooklib +    │
│   Nginx         │    │   Python        │
│   Port: 80      │    │   Port: 8000    │
└─────────────────┘    └─────────────────┘
```

## 📁 Project Structure

```
exploras-agent/
├── backend/                 # FastAPI backend
│   ├── main.py             # Main API server
│   ├── requirements.txt    # Python dependencies
│   └── Dockerfile          # Backend container
├── frontend/               # Angular frontend
│   ├── src/                # Angular source code
│   ├── package.json        # Node dependencies
│   ├── Dockerfile          # Frontend container
│   └── nginx.conf          # Nginx configuration
├── ebook/                  # EPUB files
├── samples/                # Utility scripts
├── plugin/                 # Integration plugins
├── docker-compose.yml      # Service orchestration
├── start.ps1              # Windows startup script
├── start.sh               # Linux/Mac startup script
└── Makefile               # Make commands
```

## 🔧 Development

### Local Development (without Docker)
```bash
# Backend
cd backend
pip install -r requirements.txt
python main.py

# Frontend (requires Node.js)
cd frontend
npm install
ng serve
```

### Development with Docker
```bash
make dev  # Auto-rebuild on changes
```

## 🧪 Testing the API

### Get Table of Contents
```bash
curl http://localhost:8000/toc
```

### Ask a Question
```bash
curl -X POST -H "Content-Type: application/json" \
  -d '{"toc_id":"toc_0_0","question":"What is this chapter about?"}' \
  http://localhost:8000/question
```

## 🎨 Features

- **Cost Optimization**: Selective content loading instead of entire books
- **Material Design**: Blue/orange Exploras theme
- **TOC Tree**: Interactive chapter/section selection
- **Q&A Interface**: Context-aware responses with metadata
- **Docker Ready**: Complete containerized deployment
- **API Documentation**: Auto-generated with FastAPI
- **Responsive UI**: Works on desktop and mobile

## 📝 Current Status

✅ **Working Features:**
- EPUB loading and TOC extraction
- FastAPI backend with /toc and /question endpoints
- Angular frontend with Material Design
- Docker containerization with Nginx proxy
- Cost-optimized content selection

🔄 **In Progress:**
- OpenAI integration (currently using mock responses)
- Enhanced UI components
- Authentication system

## 🤝 How it Works

1. **Upload/Select**: User selects an EPUB file via the web UI
2. **TOC Extraction**: Backend parses the TOC structure
3. **Interactive Selection**: User selects specific chapters/sections
4. **Targeted Q&A**: Only selected content is sent to AI (cost optimization)
5. **Real-time Answers**: Responses displayed with context metadata

## 📄 License

Licensed under the [GNU AGPLv3](LICENSE).
Powered by **OldBirba**, AI Assistant of Gandalf ✨
